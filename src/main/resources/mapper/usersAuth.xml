<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.elice.boardproject.user.mapper.UsersAuthMapper">
    <insert id="registerUserAuth">
        insert into users_auth (user_id)
        values (#{userId})
    </insert>

    <!-- userId로 사용자 사용자의 인증 정보 조회 -->
    <select id="findByUserId" resultType="com.elice.boardproject.user.entity.UsersAuth">
        SELECT * FROM users_auth
        WHERE user_id = #{userId}
    </select>

    <update id="updateUserRole">
        UPDATE users_auth
        SET authorities = #{newRole}
        WHERE user_id = #{userId}
    </update>
</mapper>